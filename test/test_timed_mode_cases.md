# 定时/定量答题模块测试用例文档

### 1. 定时模式启动测试 - 正常启动
- **测试ID**: T-TIM-001
- **测试目的**: 验证定时模式能否正常启动并设置正确的参数
- **前置条件**: 用户已登录
- **测试步骤**:
  1. 向 `/start_timed_mode` 路由发送POST请求，包含题目数量和时长参数
- **预期结果**:
  1. 成功创建考试会话记录
  2. session中设置了current_exam_id
  3. 重定向到定时模式页面
- **测试类型**: 功能测试

### 2. 定时模式启动测试 - 参数验证
- **测试ID**: T-TIM-002
- **测试目的**: 验证定时模式启动时对参数的处理
- **前置条件**: 用户已登录
- **测试步骤**:
  1. 向 `/start_timed_mode` 路由发送POST请求，不提供参数
- **预期结果**:
  1. 使用默认参数(题目数量5，时长10分钟)创建考试会话
  2. 重定向到定时模式页面
- **测试类型**: 功能测试

### 3. 定时模式页面显示测试 - 有效会话
- **测试ID**: T-TIM-003
- **测试目的**: 验证定时模式页面是否正确显示题目和倒计时
- **前置条件**: 用户已登录，已启动定时模式
- **测试步骤**:
  1. 访问 `/timed_mode` 路由
- **预期结果**:
  1. 页面显示正确数量的题目
  2. 显示正确的倒计时时间
  3. 每个题目显示正确的选项
- **测试类型**: 功能测试

### 4. 定时模式页面显示测试 - 无效会话
- **测试ID**: T-TIM-004
- **测试目的**: 验证未启动定时模式时访问页面的行为
- **前置条件**: 用户已登录，未启动定时模式
- **测试步骤**:
  1. 访问 `/timed_mode` 路由
- **预期结果**:
  1. 显示"未启动定时模式"错误消息
  2. 重定向到首页
- **测试类型**: 异常测试

### 5. 定时模式页面显示测试 - 时间已到
- **测试ID**: T-TIM-005
- **测试目的**: 验证定时模式时间到期时的行为
- **前置条件**: 用户已登录，已启动定时模式但时间已到
- **测试步骤**:
  1. 访问 `/timed_mode` 路由
- **预期结果**:
  1. 重定向到提交答案页面
- **测试类型**: 功能测试

### 6. 定时模式答案提交测试 - 正常提交
- **测试ID**: T-TIM-006
- **测试目的**: 验证定时模式答案提交功能是否正常工作
- **前置条件**: 用户已登录，已启动定时模式
- **测试步骤**:
  1. 向 `/submit_timed_mode` 路由发送POST请求，包含答案
- **预期结果**:
  1. 系统正确计算得分
  2. 答案被记录到历史记录中
  3. 显示考试结果页面
- **测试类型**: 功能测试

### 7. 定时模式答案提交测试 - 无效会话
- **测试ID**: T-TIM-007
- **测试目的**: 验证未启动定时模式时提交答案的行为
- **前置条件**: 用户已登录，未启动定时模式
- **测试步骤**:
  1. 向 `/submit_timed_mode` 路由发送POST请求
- **预期结果**:
  1. 显示"没有正在进行的定时模式"错误消息
  2. 重定向到首页
- **测试类型**: 异常测试

### 8. 定时模式时间到自动提交测试
- **测试ID**: T-TIM-008
- **测试目的**: 验证定时模式时间到期时是否自动提交答案
- **前置条件**: 用户已登录，已启动定时模式
- **测试步骤**:
  1. 模拟客户端JavaScript计时器触发表单提交
- **预期结果**:
  1. 表单被自动提交到 `/submit_timed_mode` 路由
  2. 系统正确处理提交的答案
- **测试类型**: 功能测试