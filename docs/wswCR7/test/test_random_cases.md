# 乱序答题模块测试用例文档

### 1. 随机题目获取测试 - 有未答题目
- **测试ID**: T-RND-001
- **测试目的**: 验证系统能否正确获取随机未答过的题目
- **前置条件**: 用户已登录，存在未答过的题目
- **测试步骤**:
  1. 访问 `/random` 路由
- **预期结果**:
  1. 显示一个随机未答过的题目
  2. 显示正确的答题进度（已答题数/总题数）
- **测试类型**: 功能测试

### 2. 随机题目获取测试 - 所有题目已完成
- **测试ID**: T-RND-002
- **测试目的**: 验证当用户完成所有题目时的系统行为
- **前置条件**: 用户已登录，所有题目都已答过
- **测试步骤**:
  1. 访问 `/random` 路由
- **预期结果**:
  1. 显示"您已完成所有题目！可以重置历史以重新开始。"信息
  2. 显示重置历史按钮
- **测试类型**: 功能测试

### 3. 答题进度显示测试
- **测试ID**: T-RND-003
- **测试目的**: 验证系统是否正确显示用户的答题进度
- **前置条件**: 用户已登录，已答过部分题目
- **测试步骤**:
  1. 访问 `/random` 路由
- **预期结果**:
  1. 页面显示正确的已答题数和总题数
  2. 进度信息格式为"已答X/总数Y"
- **测试类型**: 功能测试

### 4. 错题练习模式测试 - 有错题
- **测试ID**: T-RND-004
- **测试目的**: 验证错题练习模式是否能正确获取用户答错的题目
- **前置条件**: 用户已登录，存在答错的题目
- **测试步骤**:
  1. 访问 `/only_wrong` 路由
- **预期结果**:
  1. 显示一个用户之前答错的随机题目
- **测试类型**: 功能测试

### 5. 错题练习模式测试 - 无错题
- **测试ID**: T-RND-005
- **测试目的**: 验证当用户没有错题时的系统行为
- **前置条件**: 用户已登录，没有答错的题目或未答题
- **测试步骤**:
  1. 访问 `/only_wrong` 路由
- **预期结果**:
  1. 显示"你没有错题或还未答题"信息
  2. 重定向到首页
- **测试类型**: 功能测试

### 6. 错题集查看测试
- **测试ID**: T-RND-006
- **测试目的**: 验证错题集页面是否正确显示用户所有答错的题目
- **前置条件**: 用户已登录，存在答错的题目
- **测试步骤**:
  1. 访问 `/wrong` 路由
- **预期结果**:
  1. 页面显示用户所有答错过的题目列表
- **测试类型**: 功能测试

### 7. 重置历史功能测试
- **测试ID**: T-RND-007
- **测试目的**: 验证重置答题历史功能是否正常工作
- **前置条件**: 用户已登录，有答题历史
- **测试步骤**:
  1. 向 `/reset_history` 路由发送POST请求
- **预期结果**:
  1. 用户的答题历史被清空
  2. 显示"答题历史已重置。现在您可以重新开始答题。"信息
  3. 重定向到随机题目页面
- **测试类型**: 功能测试

### 8. 随机获取指定数量题目测试
- **测试ID**: T-RND-008
- **测试目的**: 验证系统能否正确获取指定数量的随机题目
- **前置条件**: 题库中有足够的题目
- **测试步骤**:
  1. 调用 `fetch_random_question_ids(num)` 函数，传入不同的数量参数
- **预期结果**:
  1. 返回指定数量的随机题目ID列表
  2. 返回的题目ID不重复
- **测试类型**: 单元测试